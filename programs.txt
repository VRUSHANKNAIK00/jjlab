import java.io.*;
import java.util.Scanner;

public class SimpleFileIO {
    public static void main(String[] args) {
        try (Scanner scanner = new Scanner(System.in)) {
            // Write
            System.out.print("Enter text to write: ");
            String input = scanner.nextLine();
            try (FileOutputStream fos = new FileOutputStream("data.txt")) {
                fos.write(input.getBytes());
                System.out.println("Data written to data.txt");
            }

            // Read
            System.out.println("Reading data from file:");
            try (FileInputStream fis = new FileInputStream("data.txt")) {
                int ch;
                while ((ch = fis.read()) != -1) {
                    System.out.print((char) ch);
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}



import java.io.*;

public class BinaryDemo {
    public static void main(String[] args) {
        byte[] data = { 65, 66, 67, 68, 69 }; // A, B, C, D, E

        try {
            // Write Binary
            try (FileOutputStream fout = new FileOutputStream("Binary.dat")) {
                fout.write(data);
                System.out.println("Binary data written.");
            }

            // Read Binary
            try (FileInputStream fin = new FileInputStream("Binary.dat")) {
                int i;
                System.out.print("Reading: ");
                while ((i = fin.read()) != -1) {
                    System.out.print((char) i + " ");
                }
            }
        } catch (IOException e) {
            System.out.println(e);
        }
    }
}




import java.io.*;
import java.util.Scanner;

public class StreamMenu {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int choice;

        do {
            System.out.println("\n1. File Stream  2. ByteArray Stream  3. Buffered Stream  4. Exit");
            System.out.print("Choice: ");
            choice = scanner.nextInt();
            scanner.nextLine(); // consume newline

            try {
                switch (choice) {
                    case 1 -> fileOps(scanner);
                    case 2 -> byteOps(scanner);
                    case 3 -> bufferedOps(scanner);
                    case 4 -> System.out.println("Exiting...");
                    default -> System.out.println("Invalid choice.");
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        } while (choice != 4);
    }

    // 1. File Stream
    static void fileOps(Scanner sc) throws IOException {
        System.out.print("Enter text: ");
        String text = sc.nextLine();
        try (FileOutputStream fos = new FileOutputStream("file.txt")) {
            fos.write(text.getBytes());
        }
        try (FileInputStream fis = new FileInputStream("file.txt")) {
            System.out.print("Output: ");
            int i; while ((i = fis.read()) != -1) System.out.print((char) i);
        }
    }

    // 2. Byte Array Stream
    static void byteOps(Scanner sc) throws IOException {
        System.out.print("Enter text: ");
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        baos.write(sc.nextLine().getBytes());
        
        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
        System.out.print("Output: ");
        int i; while ((i = bais.read()) != -1) System.out.print((char) i);
    }

    // 3. Buffered Stream (Faster I/O)
    static void bufferedOps(Scanner sc) throws IOException {
        System.out.print("Enter text: ");
        try (BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("buffer.txt"))) {
            bos.write(sc.nextLine().getBytes());
        }
        try (BufferedInputStream bis = new BufferedInputStream(new FileInputStream("buffer.txt"))) {
            System.out.print("Output: ");
            int i; while ((i = bis.read()) != -1) System.out.print((char) i);
        }
    }
}





class SumArray {
    int sum;

    // synchronized ensures only one thread accesses this at a time
    synchronized int sumArray(int[] nums) {
        sum = 0;
        for (int n : nums) {
            sum += n;
            System.out.println(Thread.currentThread().getName() + " running total: " + sum);
            try { Thread.sleep(10); } catch (InterruptedException e) {}
        }
        return sum;
    }
}

class MyThread implements Runnable {
    Thread t;
    static SumArray sa = new SumArray();
    int[] a;

    MyThread(String name, int[] nums) {
        a = nums;
        t = new Thread(this, name);
        t.start();
    }

    public void run() {
        System.out.println(t.getName() + " starting.");
        int ans = sa.sumArray(a); // Synchronized call
        System.out.println(t.getName() + " sum: " + ans);
    }
}

public class SyncDemo {
    public static void main(String[] args) throws InterruptedException {
        int[] arr = {1, 2, 3, 4, 5};
        MyThread t1 = new MyThread("Child #1", arr);
        MyThread t2 = new MyThread("Child #2", arr);
        
        t1.t.join();
        t2.t.join();
        System.out.println("Main thread terminated.");
    }
}




import java.util.LinkedList;
import java.util.Queue;

class Storage {
    private final Queue<Integer> queue = new LinkedList<>();
    private final int CAP = 5;

    public synchronized void produce(int item) throws InterruptedException {
        while (queue.size() == CAP) {
            wait(); // Wait if full
        }
        queue.add(item);
        System.out.println("Produced: " + item);
        notifyAll(); // Notify consumer
    }

    public synchronized void consume() throws InterruptedException {
        while (queue.isEmpty()) {
            wait(); // Wait if empty
        }
        int item = queue.poll();
        System.out.println("Consumed: " + item);
        notifyAll(); // Notify producer
    }
}

public class ProducerConsumer {
    public static void main(String[] args) {
        Storage storage = new Storage();

        // Producer Thread
        new Thread(() -> {
            int i = 0;
            try {
                while (true) { storage.produce(++i); Thread.sleep(500); }
            } catch (InterruptedException e) {}
        }).start();

        // Consumer Thread
        new Thread(() -> {
            try {
                while (true) { storage.consume(); Thread.sleep(800); }
            } catch (InterruptedException e) {}
        }).start();
    }
}


import java.sql.*;

public class JdbcSimple {
    static final String URL = "jdbc:mysql://localhost:3306/testdb";
    static final String USER = "root"; 
    static final String PASS = "password";

    public static void main(String[] args) {
        // Try-with-resources closes connection automatically
        try (Connection conn = DriverManager.getConnection(URL, USER, PASS);
             Statement stmt = conn.createStatement()) {

            System.out.println("Connected to Database.");

            // 1. Insert Data
            String sqlInsert = "INSERT INTO students(name, age) VALUES ('Alice', 20)";
            stmt.executeUpdate(sqlInsert);
            System.out.println("Inserted Alice.");

            // 2. Read Data
            ResultSet rs = stmt.executeQuery("SELECT * FROM students");
            while (rs.next()) {
                System.out.println("Student: " + rs.getString("name") + ", Age: " + rs.getInt("age"));
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}




import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class CalculatorGUI {
    private JTextField display;
    
    public CalculatorGUI() {
        JFrame frame = new JFrame("Calc");
        frame.setSize(300, 350);
        frame.setLayout(new BorderLayout());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        display = new JTextField();
        display.setFont(new Font("Arial", Font.BOLD, 24));
        display.setEditable(false);
        frame.add(display, BorderLayout.NORTH);

        JPanel panel = new JPanel(new GridLayout(4, 4, 5, 5));
        String[] keys = {"7","8","9","/", "4","5","6","*", "1","2","3","-", "C","0","=","+"};

        for (String key : keys) {
            JButton btn = new JButton(key);
            btn.addActionListener(e -> processCommand(e.getActionCommand()));
            panel.add(btn);
        }

        frame.add(panel);
        frame.setVisible(true);
    }

    private void processCommand(String cmd) {
        if (cmd.equals("C")) display.setText("");
        else if (cmd.equals("=")) {
            try {
                display.setText(String.valueOf(evaluate(display.getText())));
            } catch (Exception e) { display.setText("Error"); }
        } else {
            display.setText(display.getText() + cmd);
        }
    }

    private double evaluate(String expr) {
        char op = ' ';
        if (expr.contains("+")) op = '+';
        else if (expr.contains("-")) op = '-';
        else if (expr.contains("*")) op = '*';
        else if (expr.contains("/")) op = '/';
        else return Double.parseDouble(expr);

        String[] parts = expr.split("\\" + op);
        double n1 = Double.parseDouble(parts[0]);
        double n2 = Double.parseDouble(parts[1]);

        return switch (op) {
            case '+' -> n1 + n2;
            case '-' -> n1 - n2;
            case '*' -> n1 * n2;
            case '/' -> n2 != 0 ? n1 / n2 : 0;
            default -> 0;
        };
    }

    public static void main(String[] args) { new CalculatorGUI(); }
}